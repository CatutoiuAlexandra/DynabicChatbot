window.addEventListener('message', (event) => {
    if (event.origin !== 'https://www.accuwebhosting.co.uk' || event.origin !== "https://accuwebhosting.co.uk"){
        return;
    }
    var test_parameter = event.data;
}, false);

$( document ).ready(function() {
    
    // Check if the value is present in the URL
    if(window.location.hash && window.location.hash == '#twofactor-auth')
    {
        $('html, body').animate({
            scrollTop: parseFloat($('#twofactor-auth').offset().top) - parseFloat($(".main-menu").height()) - parseFloat($(".navbar").height())
        }, 500);
    }
    
    // if(location.href.indexOf("knowledgebase")!== -1){
    //     $("<a href='https://www.accuwebhosting.com/blog/accuweb-hosting-20th-anniversary/?utm_source=manage&utm_medium=banner&utm_campaign=20%20Years%20Celebration' target='_blank' style='top:180px;position:sticky' class='cent'><img src='/templates/accu-twenty-one/img/20-years-2.jpg'></a>").insertAfter(".sidebar:last");    
    // }
    
	jQuery(".latency_order_btn").click(function(){
	    var country = jQuery(this).attr("data-country");
	    $.removeCookie('loc', { path: '/' });
	    $.cookie("loc", country, {
			expires: 1,
			path: "/",
			domain: ".accuwebhosting.com",
			secure: !0
		});
	});
	jQuery(function() {	jQuery( ".sitemenu" ).click(function() {jQuery( ".mobilemenu-content" ).slideToggle();});	});
	jQuery(function() {	jQuery( ".mobilemenu2" ).click(function() {jQuery( ".mobilemenu-content2" ).slideToggle();});	});
	//for Mobile Menu Dropdown
   $('.mobilemenu-content span.opener').click(function(){
	  if ($(this).hasClass("plus")) {
		   $(this).parent().find('ul').slideDown();
		   $(this).removeClass('plus');
		   $(this).addClass('minus');
	  }
	  else
	  {
		   $(this).parent().find('ul').slideUp();
		   $(this).removeClass('minus');
		   $(this).addClass('plus');
	  }
   });
   
   /*for small button*/
   /*Client area home page*/
    $("form[action='domainchecker.php'] div div input[value='Register']").addClass("btn-sm");
    $("div[menuitemname='Client Details'] div:last a i").addClass("mr-2");
    /*Client area home page -- End*/
    
    /*domain book page*/
    $("form#frmProductDomain button").addClass("btn-sm");
    /*domain book page -- End*/
    
    /*checkout page*/
    $("div#order-standard_cart .cart-body #orderSummary a#checkout i").addClass("ml-2")
    /*checkout page -- End*/
    
    /*config product page*/
    $("div#order-standard_cart .cart-body #orderSummary button#btnCompleteProductConfig i").addClass("ml-2")
    /*config product page -- End*/
    
    $("form#frmDomainChecker button#btnCheckAvailability").addClass("btn-sm mt-0");
    $("#modalRemoveItem .modal-footer button:last-child").addClass("btn-sm");
    
    /*domain book page -- End*/
    
   //for Header Search
   /*$('.site-search a').click(function(){
	  
		   $('.search-bar').slideToggle('slow');
	  
   });
   $("#sitesearch").keydown(function (event) {
        if (event.which == 13) {
            
            window.location.href = "https://www.accuwebhosting.com/search?q=" + $("#sitesearch").val();
        }
       });*/
	   $('.form-control-feedback').click(function(){
			$('#searchForm').submit();
		});
		
   //for Mobile Menu Dropdown2
   $('.mobilemenu-content2 span.opener').click(function(){
	  if ($(this).hasClass("plus")) {
		   $(this).parent().find('ul').slideDown();
		   $(this).removeClass('plus');
		   $(this).addClass('minus');
	  }
	  else
	  {
		   $(this).parent().find('ul').slideUp();
		   $(this).removeClass('minus');
		   $(this).addClass('plus');
	  }
   });

$(window).scroll(function() {
	//for mobile menu scroll position fixed
if ($(this).scrollTop() > 1){  
    $('.nav_sec').addClass("fixed_position_menu");
  }
  else{	
    $('.nav_sec').removeClass("fixed_position_menu");
  }
  
  //for Desktop main menu	
	if ($(this).scrollTop() > 98){  
		$('.header-fixed').addClass("header-scroll");
		 $('.search-form').addClass("search-form-fixed");
	}
	else{	
		$('.header-fixed').removeClass("header-scroll");
		$('.search-form').removeClass("search-form-fixed");
	}
	//for second menu  
  	if ($(this).scrollTop() > 98){  
		$('.parallex-menu').addClass("fixed_position_parallex_menu");
		$('.chooseplan').fadeIn(500);		
	}
	else{	
		$('.parallex-menu').removeClass("fixed_position_parallex_menu");
		$('.chooseplan').fadeOut(100);
	}
});
	//for footer Dropdown
   $('.footer-part span.opener').click(function(){
	  if ($(this).hasClass("plus")) {
		   $(this).parent().find('ul').slideDown();
		   $(this).removeClass('plus');
		   $(this).addClass('minus');
	  }
	  else
	  {
		   $(this).parent().find('ul').slideUp();
		   $(this).removeClass('minus');
		   $(this).addClass('plus');
	  }
   });
   //second menu click event
	 $('.second-menu .sub-menu a').click(function(e){
		e.preventDefault();
		var hrefdata = $(this).attr('href');
		var scrolltopdata = (hrefdata=="#")?0:$(hrefdata).offset().top-55;
		
		$("html, body").animate({ scrollTop: scrolltopdata }, 600);
		$('.second-menu .sub-menu ul li').removeClass('active');
		$(this).parent('li').addClass('active');
		return false;
	 });	
	 
	 $(".second-menu .sub-menu ul li").each(function(index, element) {
		var liid = $(this).attr('id');
		if(liid != undefined)
		{
			liid_replaced = liid.replace('li-','');
			$('#'+liid_replaced).waypoint( function(){
				$('.second-menu .sub-menu ul li').removeClass('active');
				$('#'+liid).addClass('active');
			}, {offset: 80});   
		}
    });
	/*$('#plans').waypoint( function(){
		$('.second-menu .sub-menu ul li').removeClass('active');
	}, {offset: -500});*/
	//for Desktop Sub-menu
$('#wli .menu-icon').mouseover(
			function(){
				 $('#Lsub-detail').addClass("n-opecity");
				 $('#Wsub-detail').removeClass('n-opecity');
				 $('.windows-icon').addClass("S-opecity");
				 $('.linux-icon').removeClass('S-opecity');
		})
		.mouseout(function(){
			 $('#Lsub-detail').addClass("n-opecity");
			 $('#Wsub-detail').removeClass('n-opecity');
			 $('.windows-icon').addClass("S-opecity");
			 $('.linux-icon').removeClass('S-opecity');
		});

$('#lli').mouseover(
			function(){
				//alert('dfdf')
				$('#Wsub-detail').addClass("n-opecity");
				$('#Lsub-detail').removeClass('n-opecity');
				$('.linux-icon').addClass("S-opecity");
				$('.windows-icon').removeClass('S-opecity');
		})
		.mouseout(function(){
			 $('#Wsub-detail').removeClass("n-opecity");
			 $('#Lsub-detail').addClass('n-opecity');
			 $('.linux-icon').removeClass("S-opecity");
			 $('.windows-icon').addClass('S-opecity');
		});


$('#wli2 .menu-icon').mouseover(
			function(){
				 $('#Lsub-detail2').addClass("n-opecity");
				 $('#Wsub-detail2').removeClass('n-opecity');
				 $('#wli2 .windows-icon').addClass("S-opecity");
				 $('#lli2 .linux-icon').removeClass('S-opecity');
		})
		.mouseout(function(){
			 $('#Lsub-detail2').addClass("n-opecity");
			 $('#Wsub-detail2').removeClass('n-opecity');
			 $('#wli2 .windows-icon').addClass("S-opecity");
			 $('#lli2 .linux-icon').removeClass('S-opecity');
		});

$('#lli2').mouseover(
			function(){
				$('#Wsub-detail2').addClass("n-opecity");
				$('#Lsub-detail2').removeClass('n-opecity');
				$('#lli2 .linux-icon').addClass("S-opecity");
				$('#wli2 .windows-icon').removeClass('S-opecity');
		})
		.mouseout(function(){
			 $('#Wsub-detail2').removeClass("n-opecity");
			 $('#Lsub-detail2').addClass('n-opecity');
			 $('#lli2 .linux-icon').removeClass("S-opecity");
			 $('#wli2 .windows-icon').addClass('S-opecity');
		});
		
});

(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD
		define(['jquery'], factory);
	} else if (typeof exports === 'object') {
		// CommonJS
		factory(require('jquery'));
	} else {
		// Browser globals
		factory(jQuery);
	}
}(function ($) {

	var pluses = /\+/g;

	function encode(s) {
		return config.raw ? s : encodeURIComponent(s);
	}

	function decode(s) {
		return config.raw ? s : decodeURIComponent(s);
	}

	function stringifyCookieValue(value) {
		return encode(config.json ? JSON.stringify(value) : String(value));
	}

	function parseCookieValue(s) {
		if (s.indexOf('"') === 0) {
			// This is a quoted cookie as according to RFC2068, unescape...
			s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
		}

		try {
			// Replace server-side written pluses with spaces.
			// If we can't decode the cookie, ignore it, it's unusable.
			// If we can't parse the cookie, ignore it, it's unusable.
			s = decodeURIComponent(s.replace(pluses, ' '));
			return config.json ? JSON.parse(s) : s;
		} catch(e) {}
	}

	function read(s, converter) {
		var value = config.raw ? s : parseCookieValue(s);
		return $.isFunction(converter) ? converter(value) : value;
	}

	var config = $.cookie = function (key, value, options) {

		// Write

		if (value !== undefined && !$.isFunction(value)) {
			options = $.extend({}, config.defaults, options);

			if (typeof options.expires === 'number') {
				var days = options.expires, t = options.expires = new Date();
				t.setTime(+t + days * 864e+5);
			}

			return (document.cookie = [
				encode(key), '=', stringifyCookieValue(value),
				options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
				options.path    ? '; path=' + options.path : '',
				options.domain  ? '; domain=' + options.domain : '',
				options.secure  ? '; secure' : ''
			].join(''));
		}

		// Read

		var result = key ? undefined : {};

		// To prevent the for loop in the first place assign an empty array
		// in case there are no cookies at all. Also prevents odd result when
		// calling $.cookie().
		var cookies = document.cookie ? document.cookie.split('; ') : [];

		for (var i = 0, l = cookies.length; i < l; i++) {
			var parts = cookies[i].split('=');
			var name = decode(parts.shift());
			var cookie = parts.join('=');

			if (key && key === name) {
				// If second argument (value) is a function it's a converter...
				result = read(cookie, value);
				break;
			}

			// Prevent storing a cookie that we couldn't decode.
			if (!key && (cookie = read(cookie)) !== undefined) {
				result[name] = cookie;
			}
		}

		return result;
	};

	config.defaults = {};

	$.removeCookie = function (key, options) {
		if ($.cookie(key) === undefined) {
			return false;
		}

		// Must not alter options, thus extending a fresh object...
		$.cookie(key, '', $.extend({}, options, { expires: -1 }));
		return !$.cookie(key);
	};

})); 


function setSocialIcons(){
    var widthA = $(window).width();
    var containerWidth = $('.container').width();
    widthA = (($(window).width() - containerWidth) / 2 );
    $('.social-box').css('left','calc('+ widthA + 'px - 85px');
}

$(window).resize(function(){ 
    setSocialIcons();
});

$(document).ready(function(){
    setSocialIcons();
});


$( window ).on( "scroll", function() {
    if (window.matchMedia("(max-width: 767px)").matches){
        var window_top = $(window). scrollTop();
        var footer_top = $('.footer-note').offset().top;
        
        if ($('#frmConfigureProduct').length>0){
            var div_top = $('#frmConfigureProduct').offset().top
            if (window_top > (div_top - 500) && window_top < footer_top-1000) {
                $('#btnCompleteProductConfig').addClass('mobile-sticky');
            } else {
                $('#btnCompleteProductConfig').removeClass('mobile-sticky');
            }
        }
        
        /*view cart page*/
        
        if ($(".secondary-cart-body").length>0){
            var cart_body = $(".secondary-cart-body").offset().top;
            if(window_top > (cart_body - 500) && window_top < footer_top-1000){
                $("#checkout").addClass('mobile-sticky');
            }else{
                $("#checkout").removeClass('mobile-sticky')
            }
        }
        
        if($("#frmCheckout").length>0){
            var personDetailSection = $("#frmCheckout").offset().top;
            if(window_top > personDetailSection && window_top < footer_top-1000){
                $("#btnCompleteOrder").addClass('mobile-sticky');
            }else{
                $("#btnCompleteOrder").removeClass('mobile-sticky');
            }
        }
    }
});