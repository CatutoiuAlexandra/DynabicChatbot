function getCookie(e){var t;return 0===document.cookie.length||-1===(t=document.cookie.indexOf(e+"="))?"":(t=t+e.length+1,-1===(e=document.cookie.indexOf(";",t))&&(e=document.cookie.length),unescape(document.cookie.substring(t,e)))}function createCookie(e,t,n){var i,n=n?((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),"; expires="+i.toGMTString()):"";document.cookie=e+"="+t+n+"; path=/"}function sw19_login_form_init(){var e,t=document.querySelector("#loggly-login-form-std");t&&(e=getCookie("LggLoginSubdomain"),""!==(e=e.replace("www.","").replace(".loggly.com",""))?window.location.assign("http://"+e+".loggly.com/login"):t.addEventListener("submit",function(e){e.preventDefault();e=e.target.querySelector("input[name=lgg-login-subdomain]").value;""!==e&&(createCookie("LggLoginSubdomain",e,365),window.location.assign("http://"+e+".loggly.com/login"))}))}function sw19_form_country(){var t,n=document.querySelector("form.sw-signup, .gated-content-form");function e(){var e=t.options[t.selectedIndex].value;["DE","CH","AT"].includes(e)?n.classList.add("show-optin"):n.classList.remove("show-optin")}n&&(t=n.querySelector("select.country-picker"))&&(e(),t.addEventListener("change",e))}function sw19_is_ie(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),e=e.indexOf("Trident/");return 0<t||0<e}function sw19_is_edge_legacy(){return 0<window.navigator.userAgent.indexOf("Edge/")}function sw19_signup_ie_fix(){function e(e){e=document.querySelector(e);e&&e.setAttribute("pattern","[a-zA-Z][a-zA-Z -.]*")}(sw19_is_ie()||sw19_is_edge_legacy())&&(e("form.sw-signup input#first-name"),e("form.sw-signup input#last-name"))}function sw19_rc_init(){var n=document.querySelector("#partialSignupForm");n&&"undefined"!=typeof grecaptcha&&grecaptcha.ready(function(){n.addEventListener("submit",function(e){e.preventDefault();e=n.dataset.recaptchaSiteKey;try{grecaptcha.execute(e,{action:"submit"}).then(function(e){(t=document.createElement("input")).type="hidden",n.appendChild(t);var t;t.name="g-recaptcha-response",t.value=e,n.submit()}).catch(function(){n.submit()})}catch(e){n.submit()}})})}function sw19_signup_form_button_disable(){var t,e,n=document.querySelector(".sw19p-loggly-signup form.sw19s-corp-form");function i(){e.checked?(t.disabled=!1,t.classList.remove("disabled")):(t.disabled=!0,t.classList.add("disabled"))}n&&(t=n.querySelector("button"),e=n.querySelector(".box-ssa input"),t)&&(n.addEventListener("submit",function(e){t.disabled=!0}),e.addEventListener("click",i),i())}function sw19_ajax_email_check(){var o,e,t=document.querySelector(".sw19p-loggly-signup form.sw19s-corp-form");t&&(t=t.querySelector("#sw19_email"))&&(o=document.querySelector(".sw19-email-taken-modal"))&&(e=o.querySelector("button"))&&(t.addEventListener("change",function(e){e.target.sw_changed=!0}),t.addEventListener("blur",function(e){var n,i;e.target.checkValidity()&&e.target.sw_changed&&(e.target.sw_changed=!1,n=e.target.value,(i=new XMLHttpRequest).onreadystatechange=function(e){var t;i.readyState===XMLHttpRequest.DONE&&200===i.status&&i.response.is_existing_user&&(o.classList.add("selected"),t=o.querySelector(".message span"))&&(t.textContent=n)},i.open("POST","/wp-json/loggly/v1/is_email_taken/"),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",e=JSON.stringify({email:n}),i.send(e))}),e.addEventListener("click",function(){o.classList.remove("selected")}),o.addEventListener("click",function(e){e.target===this&&o.classList.remove("selected")}))}sw19_signup_ie_fix(),sw19_form_country(),sw19_signup_form_button_disable(),sw19_rc_init(),sw19_login_form_init(),sw19_ajax_email_check();